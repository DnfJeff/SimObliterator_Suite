<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>VitaMoo</title>
<link rel="stylesheet" href="viewer.css">
</head>
<body>

<header>
  <h1>VitaMoo</h1>
  <span class="subtitle">Spin the Sims!</span>
</header>

<div class="layout">
  <div class="sidebar">

    <!-- Scene presets â€” multiple characters -->
    <div class="group">
      <h3>Scene</h3>
      <select id="selScene"></select>
      <div class="nav-row">
        <button class="nav-btn" id="btnScenePrev">&larr; Prev</button>
        <button class="nav-btn" id="btnSceneNext">Next &rarr;</button>
      </div>
    </div>

    <!-- Actor â€” which cast member to edit -->
    <div class="group" id="actorGroup" style="display:none">
      <h3>Actor</h3>
      <select id="selActor"><option value="">-- select --</option></select>
      <div class="nav-row">
        <button class="nav-btn" id="btnActorPrev" title="Previous actor">&larr; Prev</button>
        <button class="nav-btn" id="btnActorNext" title="Next actor">Next &rarr;</button>
      </div>
    </div>

    <!-- Character presets â€” the body an actor plays -->
    <div class="group">
      <h3>Character</h3>
      <select id="selCharacter"><option value="">-- all --</option></select>
      <div class="nav-row">
        <button class="nav-btn" id="btnCharacterPrev" title="Previous character">&larr; Prev</button>
        <button class="nav-btn" id="btnCharacterNext" title="Next character">Next &rarr;</button>
      </div>
    </div>

    <!-- Animation â€” top level -->
    <div class="group">
      <h3>Animation</h3>
      <select id="selAnim"><option value="">-- all --</option></select>
      <div class="nav-row">
        <button class="nav-btn" id="btnAnimPrev" title="Previous (Left arrow)">&larr; Prev</button>
        <button class="nav-btn" id="btnAnimNext" title="Next (Right arrow)">Next &rarr;</button>
      </div>
    </div>

  </div>

  <div class="viewer">
    <canvas id="viewport"></canvas>
    <div class="controls">
      <button class="dist-btn" data-dist="far">Far</button>
      <button class="dist-btn active" data-dist="medium">Med</button>
      <button class="dist-btn" data-dist="near">Near</button>
      <label>Rotate <input type="range" id="rotY" min="0" max="360" value="30"></label>
      <label>Tilt <input type="range" id="rotX" min="-89" max="89" value="15"></label>
      <label>Zoom <input type="range" id="zoom" min="15" max="400" value="160"></label>
      <label>Speed <input type="range" id="speed" min="0" max="1000" value="100"></label>
      <button class="filter-btn" id="btnPause" title="Pause/Resume (0)" style="min-width:50px">Pause</button>
    </div>
    <button id="btnHelp" title="Help (H)">Help?!?</button>
  </div>
</div>

<div id="helpDialog" style="display:none">
  <div class="help-content">
    <h2>Spin the Sims! ğŸ®</h2>
    <p class="help-intro">Click and drag to spin! Click a Sim to select them. ğŸ’š</p>
    <table class="help-keys">
      <tr><th colspan="2">ğŸ¬ Navigate</th></tr>
      <tr><td><kbd>N</kbd> <kbd>P</kbd></td><td>next / previous scene</td></tr>
      <tr><td><kbd>D</kbd> <kbd>A</kbd></td><td>next / previous actor</td></tr>
      <tr><td><kbd>S</kbd> <kbd>W</kbd></td><td>next / previous character</td></tr>
      <tr><td><kbd>E</kbd> <kbd>Q</kbd></td><td>next / previous animation</td></tr>
      <tr><td><kbd>Space</kbd></td><td>next actor (<kbd>Shift</kbd>=prev)</td></tr>
      <tr><th colspan="2">ğŸ¡ Spin &amp; Zoom</th></tr>
      <tr><td><kbd>â†</kbd> <kbd>â†’</kbd></td><td>Spin (hold = faster! ğŸŒ€)</td></tr>
      <tr><td><kbd>â†‘</kbd> <kbd>â†“</kbd></td><td>Zoom in / out</td></tr>
      <tr><td>Drag ğŸ–±ï¸</td><td>Spin actor + Zoom</td></tr>
      <tr><td>Right Drag ğŸ–±ï¸</td><td>Orbit stage ğŸª</td></tr>
      <tr><td>Click ğŸ–±ï¸</td><td>Select actor (bg = All)</td></tr>
      <tr><td>Scroll ğŸ–±ï¸</td><td>Zoom</td></tr>
      <tr><th colspan="2">â±ï¸ Speed</th></tr>
      <tr><td><kbd>1</kbd><kbd>2</kbd> <kbd>3</kbd> <kbd>4</kbd>â€“<kbd>9</kbd></td><td>Slow Â· Normal Â· Fast ğŸš€</td></tr>
      <tr><td><kbd>0</kbd></td><td>Pause â¸ï¸</td></tr>
      <tr><td><kbd>H</kbd></td><td>This help</td></tr>
    </table>
    <p class="help-tip">ğŸ’¡ <strong>All</strong> selected = control everyone at once!<br>
    ğŸ¤« Hold <kbd>â†</kbd>/<kbd>â†’</kbd> then mash <kbd>Space</kbd>...</p>
  </div>
</div>

<div id="loadingOverlay">
  <div class="loader-spinner"></div>
  <div class="loader-text">Loading VitaMoo...</div>
</div>
<script type="module" src="viewer.js"></script>
</body>
</html>
