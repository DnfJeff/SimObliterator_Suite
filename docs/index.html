<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>VitaMoo</title>
<link rel="stylesheet" href="viewer.css">
</head>
<body>

<header>
  <h1>VitaMoo</h1>
  <span class="subtitle">character viewer</span>
</header>

<div class="layout">
  <div class="sidebar">
    <div class="drop-zone" id="dropZone">Drop .cmx .skn .bmp .png files</div>

    <!-- Scene presets — multiple characters -->
    <div class="group">
      <h3>Scene</h3>
      <select id="selScene"><option value="">-- solo --</option></select>
      <div class="nav-row">
        <button class="nav-btn" id="btnScenePrev">&larr; Prev</button>
        <button class="nav-btn" id="btnSceneNext">Next &rarr;</button>
      </div>
    </div>

    <!-- People presets — top level -->
    <div class="group">
      <h3>People</h3>
      <select id="selPerson"><option value="">-- preset --</option></select>
      <div class="nav-row">
        <button class="nav-btn" id="btnPersonPrev" title="Previous person">&larr; Prev</button>
        <button class="nav-btn" id="btnPersonNext" title="Next person">Next &rarr;</button>
      </div>
    </div>

    <!-- Animation — top level -->
    <div class="group">
      <h3>Animation</h3>
      <select id="selAnim"><option value="">-- idle --</option></select>
      <div class="nav-row">
        <button class="nav-btn" id="btnAnimPrev" title="Previous (Left arrow)">&larr; Prev</button>
        <button class="nav-btn" id="btnAnimNext" title="Next (Right arrow)">Next &rarr;</button>
      </div>
    </div>

    <!-- Details foldout — closed by default -->
    <details id="detailsFoldout">
      <summary><h3 style="display:inline">Details</h3></summary>

      <!-- Filters inside the foldout -->
      <div class="group" style="margin-top:8px">
        <h3>Filter <label style="float:right;font-size:10px;color:#666"><input type="checkbox" id="filterToggle"> enable</label></h3>
        <div class="filter-panel">
          <div class="filter-row">
            <label>Sex</label>
            <button class="filter-btn" data-filter="sex" data-value="M">Male</button>
            <button class="filter-btn" data-filter="sex" data-value="F">Female</button>
          </div>
          <div class="filter-row">
            <label>Age</label>
            <button class="filter-btn" data-filter="age" data-value="A">Adult</button>
            <button class="filter-btn" data-filter="age" data-value="C">Child</button>
          </div>
          <div class="filter-row">
            <label>Body</label>
            <button class="filter-btn" data-filter="bodyType" data-value="Fit">Fit</button>
            <button class="filter-btn" data-filter="bodyType" data-value="Fat">Fat</button>
            <button class="filter-btn" data-filter="bodyType" data-value="Skn">Skinny</button>
          </div>
          <div class="filter-row">
            <label>Skin</label>
            <button class="filter-btn" data-filter="skinTone" data-value="drk">Dark</button>
            <button class="filter-btn" data-filter="skinTone" data-value="med">Medium</button>
            <button class="filter-btn" data-filter="skinTone" data-value="lgt">Light</button>
          </div>
        </div>
      </div>

      <div class="group">
        <h3>Skeleton</h3>
        <select id="selSkeleton"><option value="">-- select --</option></select>
      </div>

      <div class="group">
        <h3>Body</h3>
        <select id="selBody"><option value="">-- none --</option></select>
        <select id="selBodyTex"><option value="">-- texture --</option></select>
      </div>

      <div class="group">
        <h3>Head</h3>
        <select id="selHead"><option value="">-- none --</option></select>
        <select id="selHeadTex"><option value="">-- texture --</option></select>
      </div>

      <div class="group">
        <h3>Hands</h3>
        <select id="selLeftHand"><option value="">-- left --</option></select>
        <select id="selRightHand"><option value="">-- right --</option></select>
        <select id="selHandTex"><option value="">-- texture --</option></select>
      </div>
    </details>
  </div>

  <div class="viewer">
    <canvas id="viewport"></canvas>
    <div class="controls">
      <button class="dist-btn" data-dist="far">Far</button>
      <button class="dist-btn active" data-dist="medium">Med</button>
      <button class="dist-btn" data-dist="near">Near</button>
      <label>Rotate <input type="range" id="rotY" min="0" max="360" value="30"></label>
      <label>Tilt <input type="range" id="rotX" min="-89" max="89" value="20"></label>
      <label>Zoom <input type="range" id="zoom" min="15" max="200" value="70"></label>
      <label>Speed <input type="range" id="speed" min="0" max="500" value="100"></label>
      <button class="filter-btn" id="btnPause" title="Pause/Resume (Space)">Pause</button>
    </div>
    <div class="status" id="status">Loading content index...</div>
  </div>
</div>

<script type="module" src="viewer.js"></script>
</body>
</html>
